<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/4.3.0/jquery.form.min.js" integrity="sha384-qlmct0AOBiA2VPZkMY3+2WqkHtIQ9lSdAsAn5RUJD/3vA5MKDgSGcdmIv4ycVxyn" crossorigin="anonymous"></script>
    <title>Postman Assignment</title>
</head>
<body>
    <div class="container">
        <div class="jumbotron">
            <h1>Postman Assignment</h1>
            <p>Upload CSV file</p>
        </div>
        <label for="image_file">Select CSV File</label>
        <input class="btn btn-warning" type="file" id="image_file">
        <br>
        <div class="progress" id="status-progress">
            <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 75%"></div>
        </div>
        <button class="btn btn-primary" onclick="uploadFile()">Upload</button>

    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
    <script>
        function uploadFile(){
            let file = document.getElementById('image_file').files[0]
            let formData = new FormData()
            let endpoint = '/uploadfile'
            formData.append('file', file)

            fetch('/uploadfile/', {method: "POST", body: formData}).then((resp)=>{alert(resp.status)})
        }
    </script>
</body>
</html>